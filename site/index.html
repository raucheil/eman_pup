<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>alert popup</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/ema_pup.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="bootstrap/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.6.1/Sortable.min.js"></script>
</head>

<body>
    <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
    <nav>
        <div class="container">
            <div class="row">
                <div class="navbar">
                    <!-- <a class="navbar-brand" href="#">Title</a>
                    <ul class="nav navbar-nav">
                        <li class="active">
                            <a href="#">Home</a>
                        </li>
                        <li>
                            <a href="#">Link</a>
                        </li>
                    </ul> -->
                </div>
            </div>
        </div>
    </nav>
    <section>
        <div class="container">
            
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">     
                
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                        <div id="list-group" class="list-group">
                            <div data-id="1" class="list-group-item col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                <div class="badge">
                                    <div class="badge_img">
                                        <img src="img/data.png" alt="">
                                    </div>
                                    <div class="badge_text">
                                        <div class="badge_text_title">in questo momento ci sono</div>
                                        <div class="badge_text_1">[n° random, > 100] visitatori sul sito</div>
                                        <div class="col-sm-12">
                                            <button type="button" class="btn btn-sm btn-toggle active" data-toggle="button" aria-pressed="true" autocomplete="off">
                                                <div class="handle"></div>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div data-id="2" class="list-group-item col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                <div class="badge">
                                    <div class="badge_img">
                                        <img src="img/calendar.png" alt="">
                                    </div>
                                    <div class="badge_text">
                                        <div class="badge_text_title">in data [data odierna] </div>
                                        <div class="badge_text_1">rimangono soltanto [n° random < 10] prodotti <br/> a prezzo scontato.</div>
                                            <div class="col-sm-12">
                                                <button type="button" class="btn btn-sm btn-toggle active" data-toggle="button" aria-pressed="true" autocomplete="off">
                                                    <div class="handle"></div>
                                                </button>
                                            </div>
                                    </div>
                                </div>
                            </div>
                            <div data-id="3" class="list-group-item col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                <div class="badge">
                                    <div class="badge_img">
                                        <img src="img/calendar.png" alt="">
                                    </div>
                                    <div class="badge_text">
                                        <div class="badge_text_title">data di scadenza della promozione online: </div>
                                        <div class="badge_text_1">[data odierna]</div>
                                        <div class="col-sm-12">
                                            <button type="button" class="btn btn-sm btn-toggle active" data-toggle="button" aria-pressed="true" autocomplete="off">
                                                <div class="handle"></div>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div data-id="4" class="list-group-item col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                <div class="badge">
                                    <div class="badge_img">
                                        <img src="img/calendar.png" alt="">
                                    </div>
                                    <div class="badge_text">
                                        <div class="badge_text_title">il [data odierna]</div>
                                        <div class="badge_text_1">hanno acquistato [n° random > 30]</div>
                                        <div class="col-sm-12">
                                            <button type="button" class="btn btn-sm btn-toggle active" data-toggle="button" aria-pressed="true" autocomplete="off">
                                                <div class="handle"></div>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div data-id="5" class="list-group-item col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                <div class="badge">
                                    <div class="badge_img">
                                        <img src="img/check.png" alt="">
                                    </div>
                                    <div class="badge_text">
                                        <div class="badge_text_title">un ordine è appena stato effettuato da </div>
                                        <div class="badge_text_1">[città random italiana]</div>
                                        <div class="col-sm-12">
                                            <button type="button" class="btn btn-sm btn-toggle active" data-toggle="button" aria-pressed="true" autocomplete="off">
                                                <div class="handle"></div>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div data-id="6" class="list-group-item col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                <div class="badge">
                                    <div class="badge_img">
                                        <img src="img/count.png" alt="">
                                    </div>
                                    <div class="badge_text">
                                        <div class="badge_text_title">alla scadenza della promozione di oggi mancano</div>
                                        <div class="badge_text_1">[countdown, qualche ora,
                                            <12h]</div>
                                                <div class="col-sm-12">
                                                    <button type="button" class="btn btn-sm btn-toggle active" data-toggle="button" aria-pressed="true" autocomplete="off">
                                                        <div class="handle"></div>
                                                    </button>
                                                </div>
                                        </div>
                                    </div>
                                </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                        <br>
                        <h4 class="title"><b>HOW TO</b></h4>
                        <b> Genera la combinazione delle slide:</b>
                        <p> 1 - DRAG & DROP per ordinare le slide</p>
                        <p> 2 - ON/OFF per disattivare le slide</p>
                        <p> 3 - genere il codice e segui le istruzioni per inserirlo nel sito</p>
                        <div class="row">
                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-md-offsett-12">
                                <button type="button" class="btn btn-block btn-success btn-make">genera codice</button>
                                <pre id="js"></pre>
                                <pre id="css"></pre>

                                <button type="button" class="btn btn-sm btn-danger" disabled="disabled">reset</button>
                                <!-- <button type="button" class="btn btn-sm btn-primary btn-copy" disabled="disabled">copia</button> -->
                                <br>
                                <br>
                                <a class="btn btn-sm btn-info" href="http://www.danielecolpo.it/newwp/" role="button">guarda un esempio</a>
                                
                            </div>
                        </div>
                    </div>
                </div>       
                </div>
            </div>
        </div>
    </section>

    <footer>
        <nav class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="row">
                </div>
            </div>
        </nav>
    </footer>
</body>
<script>
    var el = document.getElementById('list-group');
    var sortable = new Sortable(el, {
        // group: "name",  // or { name: "...", pull: [true, false, clone], put: [true, false, array] }
        sort: true, // sorting inside list
        delay: 0, // time in milliseconds to define when the sorting should start
        // disabled: false, // Disables the sortable if set to true.
        // store: null, // @see Store
        animation: 150, // ms, animation speed moving items when sorting, `0` — without animation
        // handle: ".my-handle",  // Drag handle selector within list items
        filter: ".ignore-elements", // Selectors that do not lead to dragging (String or Function)
        // // preventOnFilter: true, // Call `event.preventDefault()` when triggered `filter`
        // draggable: ".list-group-item",  // Specifies which items inside the element should be draggable
        // ghostClass: "sortable-ghost", // Class name for the drop placeholder
        // chosenClass: "sortable-chosen", // Class name for the chosen item
        // dragClass: "sortable-drag", // Class name for the dragging item

        // forceFallback: false, // ignore the HTML5 DnD behaviour and force the fallback to kick in

        // fallbackClass: "sortable-fallback", // Class name for the cloned DOM Element when using forceFallback
        // fallbackOnBody: false, // Appends the cloned DOM Element into the Document's Body
        // 7fallbackTolerance: 0, // Specify in pixels how far the mouse should move before it's considered as a drag.

         scroll: true, // or HTMLElement
    });
</script>

<script>
    $('.btn-toggle').on('click', function () {
        var b = $(this);
        var a = $(this).attr('aria-pressed');
        // console.log(a);
        if (a === 'true') {
            b.parents('.list-group-item').addClass('ignore-elements');
        } else {
            b.parents('.list-group-item').removeClass('ignore-elements');
        }
        // console.log('push');
    });

    $('.btn-make').on('click', function () {
        var dataList = $(".list-group-item").not(".ignore-elements").map(function () {
            return $(this).data("id");
        }).get();

        $('.btn-danger').removeAttr('disabled');
        $('.btn-primary').removeAttr('disabled');

        var t =
            "&lt;!-- inserire prima di chiudere il tag body\n in ogni pagina in cui si vuole visualizzare o nel footer del sito --&gt;\n\n";
        t += "&lt;script&gt;\n";
        t += "var head = document.getElementsByTagName('head')[0];\n"
        t += "var script = document.createElement('script');\n"
        t += "script.type = 'text/javascript';\n"
        t += "script.onload = function() {\n"
        t += "var a=[" + dataList.join(",") + "];\n"
        t += "em_pp(a);\n"
        t += "}\n"
        t += "script.src = 'http://www.danielecolpo.it/ema_pp/js/bundle.js';\n"
        t += "head.appendChild(script);\n"
        t += "&lt;/script&gt;"
        // var t="";
        var cs =
            "&lt;!-- inserire prima di chiudere il tag head\n in ogni pagina in cui si vuole visualizzare o nell'header del sito\nper rendere graficamente le slide--&gt;\n\n&lt;link rel='stylesheet' href='http://www.danielecolpo.it/ema_pp/css/stylesheet.css'&gt;\n"
        // console.log(dataList.join(","));
        $("pre#js").contents().remove();
        $("pre#js").append(t);
        $("pre#css").contents().remove();
        $("pre#css").append(cs);
    });

    $('.btn-danger').on('click',function(){
        $("pre#js").contents().remove();
        // $("pre#js").append(t);
        $("pre#css").contents().remove();
    })

    $('.btn-copy').on('click',function(){
        value=$("pre#js").contents().text();
        value2=$("pre#css").contents().text();
        var $temp = $("<input>");
          $("body").append($temp);
          $temp.val(value).select();
          document.execCommand("copy");
          $temp.remove();
    })
</script>

</html>